{% extends 'base.html' %}

{% block content %}
<h1 class="text-center mt-5">Weather App</h1>
<form action="/" method="post" class="text-center">
    {{form.hidden_tag()}}
    <p>
        {{ form.city.label }}<br>
        {{ form.city(size=32) }}<br>
        {% for error in form.city.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        {{ form.state.label }}<br>
        {{ form.state(size=32) }}<br>
        {% for error in form.state.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        {{ form.country.label }}<br>
        {{ form.country(size=32) }}<br>
        {% for error in form.country.errors %}
            <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>{{ form.submit() }}</p>
</form>

{% if data %}
    <div class="text-center">
        <h2>{{ data.main }}</h2>
        <p>{{data.description }}</p>
        <p>Temperature: {{ data.temperature }}Â°C</p>
        <img src="http://openweathermap.org/img/w/{{ data.icon }}.png" alt="Weather icon">
    </div>
{% endif %}
{% endblock %}